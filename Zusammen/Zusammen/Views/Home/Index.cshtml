@using System.Security.Claims;
@using Microsoft.AspNetCore.Identity
@inject UserManager<ApplicationUser> UserManager
@{
    ViewData["Title"] = "Home Page";
    var user = UserManager.GetUserAsync(User).Result;

}
@model List<int>

<div class="text-center">
    <h1 class="display-4">Welcome to Zusammen</h1>
    @if (User.Identity.IsAuthenticated)
    {
        <canvas id="myCanvas" width="1000" height="400" style="border:1px solid #000000;">
        </canvas>

    }
</div>

<script>
    var items = @Html.Raw(Json.Serialize(Model));
    console.log(items);
    var c = document.getElementById("myCanvas");
    var ctx = c.getContext("2d");
    var k = items.reduce((a, b) => Math.max(a, b), -Infinity);
    var l = 100;
    var circle_list = []

    for (let i = 0; i < items.length; i++) {
        var r = l * (k - items[i]);
        var x = r * Math.cos(Math.random() * 2 * Math.PI) + (1000 / 2);
        var y = r * Math.sin(Math.random() * 2 * Math.PI) + (400 / 2);
        drawCircle(x, y, 40);
        circle_list.push({x-val: x, y-val: y, r-val: 40}) //okay carmen its up to you
    }
    

    

    function drawCircle(xdist, ydist, radius) {
        ctx.beginPath();
        ctx.arc(xdist, ydist, radius, 0, 2 * Math.PI);
        ctx.stroke();
    }

</script>